<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Centro de Custo</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 30px; }
        label { display: block; margin-top: 15px; }
        select, input { width: 300px; padding: 5px; margin-top: 5px; }
        button { margin-top: 20px; padding: 10px 20px; }
        ul { list-style-type: none; padding-left: 20px; }
    </style>
</head>
<body>
    <h1>Cadastrar Centro de Custo</h1>

    <form method="post">
        {% csrf_token %}
        <label>Descrição:</label>
        {{ form.descricao }}

        <label>Código do Centro:</label>
        {{ form.cod_centro }}

        <label>Centro Pai (opcional):</label>
        {{ form.centro_pai }}

        <button type="submit">Salvar</button>
    </form>

    <hr>

    <h2>Estrutura Cadastrada</h2>
    <ul>
        {% for pai in centros_pai %}
            <li><strong>{{ pai.descricao }}</strong>
                {% if pai.subcentros.all %}
                    <ul>
                        {% for filho in pai.subcentros.all %}
                            <li>{{ filho.descricao }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </li>
        {% empty %}
            <li>Nenhum centro de custo cadastrado ainda.</li>
        {% endfor %}
    </ul>
</body>
</html>
